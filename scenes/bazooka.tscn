[gd_scene load_steps=14 format=3 uid="uid://bvekpk06vely5"]

[ext_resource type="Script" uid="uid://b2d1mwnoft6a2" path="res://scenes/bazooka.gd" id="1_pojmm"]
[ext_resource type="Texture2D" uid="uid://cf2jixk07rksl" path="res://scenes/bazooka/Bazooka-reisized.png" id="2_dmaar"]
[ext_resource type="PackedScene" uid="uid://cdhhxxwra7mat" path="res://scenes/bazooka/rocket.tscn" id="2_qloke"]
[ext_resource type="AudioStream" uid="uid://dlnj7pqg48po3" path="res://sounds/bazookaShoot.mp3" id="2_rq35j"]
[ext_resource type="PackedScene" uid="uid://xjqr5pbxb8di" path="res://scenes/bazooka/rocket_shell.tscn" id="3_q5sgg"]
[ext_resource type="PackedScene" uid="uid://b0bxe3gpgi154" path="res://scenes/UI/camera.tscn" id="4_rq35j"]
[ext_resource type="PackedScene" uid="uid://4qjdh10o1oy" path="res://scenes/UI/label_of_player.tscn" id="5_im5vg"]
[ext_resource type="Texture2D" uid="uid://fheyyqm5w8ku" path="res://scenes/bazooka/rocket_shell.png" id="7_im5vg"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_rq35j"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_q5sgg"]
size = Vector2(328.75, 93.5)

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_q5sgg"]
properties/0/path = NodePath(".:position")
properties/0/spawn = true
properties/0/replication_mode = 1
properties/1/path = NodePath(".:rotation")
properties/1/spawn = true
properties/1/replication_mode = 1
properties/2/path = NodePath(".:angular_velocity")
properties/2/spawn = true
properties/2/replication_mode = 1
properties/3/path = NodePath(".:custom_integrator")
properties/3/spawn = true
properties/3/replication_mode = 1
properties/4/path = NodePath(".:pos")
properties/4/spawn = true
properties/4/replication_mode = 1

[sub_resource type="Animation" id="Animation_q5sgg"]
resource_name = "shoot"

[sub_resource type="AnimationLibrary" id="AnimationLibrary_rq35j"]
_data = {
&"shoot": SubResource("Animation_q5sgg")
}

[node name="Bazooka" type="RigidBody2D" node_paths=PackedStringArray("Barrel", "MagNode")]
collision_layer = 3
collision_mask = 3
mass = 0.05
physics_material_override = SubResource("PhysicsMaterial_rq35j")
gravity_scale = 0.0
inertia = 1000.0
can_sleep = false
script = ExtResource("1_pojmm")
ROCKET_ZOOM = 0.15
BULLET_AMOUNT = 1
BULLET_SPREAD = 3
SHOOT_SOUND = ExtResource("2_rq35j")
SHOOT_FORCE = Vector2(-7000, 0)
SEMI_AUTO = true
ANGULAR_SPEED = 2500
SOUND_RANGE = 4000
RECOIL_FORCE = 70000
BULLET_SPEED = 1000
SHELL_SPEED = 3000
SHELL_ROTATION_SPEED = -1000
MAG_AMMO = 1
MAG_AMOUNT = 10
TIME_TO_RELOAD = 0.5
BASE_BULLET_DAMAGE = 0
INIT_ZOOM = 0.3
Barrel = NodePath("Marker2D")
bulletScene = ExtResource("2_qloke")
shellScene = ExtResource("3_q5sgg")
cameraScene = ExtResource("4_rq35j")
labelScene = ExtResource("5_im5vg")
MagNode = NodePath("Sprites/Mag")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0.625, 11)
shape = SubResource("RectangleShape2D_q5sgg")

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_q5sgg")

[node name="Marker2D" type="Marker2D" parent="."]
position = Vector2(165, 0)
rotation = 1.5707964

[node name="Line2D" type="Line2D" parent="."]
visible = false
position = Vector2(166, 0)
scale = Vector2(1, 0.166667)
points = PackedVector2Array(-1, -0.6, 5000, -0.6)
width = 20.0
default_color = Color(1, 0, 0, 1)

[node name="TimerToShoot" type="Timer" parent="."]
one_shot = true

[node name="TimerToReload" type="Timer" parent="."]
one_shot = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_rq35j")
}

[node name="BoltPosition" type="Node2D" parent="."]
position = Vector2(-164, 1.4305115e-06)
rotation = -1.5707964

[node name="Sprites" type="Node2D" parent="."]

[node name="Mag" type="Sprite2D" parent="Sprites"]
position = Vector2(-145, -3)
scale = Vector2(3.4749994, 3.4750004)
texture = ExtResource("7_im5vg")

[node name="BazookaReisized" type="Sprite2D" parent="Sprites"]
use_parent_material = true
position = Vector2(0.24999237, 8.75)
scale = Vector2(4.984375, 4.984375)
texture = ExtResource("2_dmaar")

[connection signal="timeout" from="TimerToShoot" to="." method="_on_timer_to_shoot_timeout"]
[connection signal="timeout" from="TimerToReload" to="." method="_on_timer_to_reload_timeout"]
